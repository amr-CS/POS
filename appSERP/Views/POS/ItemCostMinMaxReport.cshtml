@using System.Data;
@{
    ViewBag.Title = "SimplePOSHtmlReport";
    Layout = "~/Views/Shared/appLayout/_LayoutReport.cshtml";
    DataTable Data = ViewBag.MealData;




}
<style>
    @@font-face {
        font-family: 'Dubai';
        src: url('../../fonts/appFont/Dubai.ttf') format('truetype');
    }

    body {
        font-size: 14px;
    }
</style>



@if (Data != null)
{

    double TotalMinPrice = 0;
    double TotalMaxPrice = 0;
    double TotalCost = 0;
    <table class="tblitem" dir="rtl" style="margin-right:15px;width:100%">
        <thead style="">
            <tr>
                <th width="10%">رقم الصنف</th>
                <th width="25%">اسم الصنف</th>
                <th width="10%">الوحدة</th>
                <th width="15%">اقل سعر</th>
                <th width="15%">اكبر سعر</th>
                <th width="15%">متوسط التكلفة</th>
                <th width="10%">متوسط تكلفة المعادلة</th>
            </tr>
        </thead>

        @foreach (DataRow item in Data.Rows)
        {


            double MinPrice = Convert.ToDouble(item["MinPrice"].ToString());
            double MaxPrice = Convert.ToDouble(item["MaxPrice"].ToString());
            double Cost = Convert.ToDouble(item["Cost"].ToString());
            <tr>
                <td style="text-align: center; vertical-align: middle;padding-right:20px">
                    @item["InvItemCode"]
                </td>
                <td style="text-align: center; vertical-align: middle;padding-right:20px">
                    @item["InvItemNameL1"]
                </td>
                <td style="text-align: center; vertical-align: middle;padding-right:20px">
                    @item["UnitName"]
                </td>
                <td style="text-align: center; vertical-align: middle;">
                    @item["MinPrice"]

                </td>
                <td style="text-align: center; vertical-align: middle;">
                    @item["MaxPrice"]

                </td>
                <td style="text-align: center; vertical-align: middle;">


                    @Math.Round((Convert.ToDouble(item["MinPrice"]) + Convert.ToDouble(item["MaxPrice"])) / 2, 2, MidpointRounding.ToEven)
                </td>
                <td style="text-align: center; vertical-align: middle;">

                    @Math.Round(Convert.ToDouble(item["Cost"]), 2, MidpointRounding.ToEven)
                </td>

            </tr>


            TotalMinPrice = TotalMinPrice + MinPrice;
            TotalMaxPrice = TotalMaxPrice + MaxPrice;
            TotalCost = TotalCost + Cost;

        }

        <tr class="total">
            <td style="text-align: center;font:bold; vertical-align: middle;">
            </td>
            <td style="text-align: center;font:bold; vertical-align: middle;">
            </td>
            <td style="text-align: center;font:bold; vertical-align: middle;">
            </td>
            <td style="text-align: center;font:bold; vertical-align: middle;">
                الاجمالي :
                <br />
            </td>
            <td style="text-align: center; vertical-align: middle;">
                @Math.Round(TotalMinPrice, 2, MidpointRounding.ToEven)

            </td>
            <td style="text-align: center;font:bold; vertical-align: middle;">
                @Math.Round(TotalMaxPrice, 2, MidpointRounding.ToEven)

            </td>

            <td style="text-align: center;font:bold; vertical-align: middle;">
                @Math.Round(TotalCost, 2, MidpointRounding.ToEven)

            </td>

        </tr>


    </table>

}



